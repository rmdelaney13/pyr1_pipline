# Test configuration for 3-example ML pipeline test
# This config demonstrates the CORRECT parameters for mutant docking

[DEFAULT]
# Alignment table and conformer paths (generated by orchestrator)
CSVFileName = alignment_table.csv
PathToConformers = conformers_params

# CRITICAL: These parameters must point to a PROTEIN residue in the mutant PDB
# NOT the template ligand chain (which doesn't exist in mutant structures)
ChainLetter = A
ResidueNumber = 120
LigandResidueNumber = 1
AutoGenerateAlignment = False

# Optional: Protein params if needed
ParamsList =

[mutant_docking]
# Mutant structure (generated by threading)
MutantPDB = mutant.pdb

# Ligand conformers
LigandSDF = conformers/conformers_final.sdf

# Output directory
OutputDir = docking

# Docking parameters
DockingRepeats = 10
ArrayTaskCount = 1

# H-bond geometry filtering
EnableHBondGeometryFilter = True
UseClosestLigandAcceptor = True
HBondDistanceIdeal = 2.8
HBondDistanceIdealBuffer = 0.8
HBondDonorAngleMin = 120
HBondAcceptorAngleMin = 90

# Constraints
HBondConstraintWeight = 4.0
EnableDynamicWaterPullConstraint = True
HBondConstraintSD = 0.25
HBondConstraintCaptureMax = 8.0

# Final geometry enforcement
EnforceFinalIdealGeometry = True
HBondDonorAngleIdeal = 180
HBondDonorAngleBuffer = 40
RequireAcceptorIdealWindow = False

# Perturbation
JumpNum = 2
Rotation = 25
Translation = 0.5
MaxPerturbTries = 30

# Scoring
MaxScore = -300

# Clustering
EnablePoseClusteringInArrayTask = False
ClusterRMSDCutoff = 0.75

# Output
GeometryCSVName = hbond_geometry_summary.csv
OutputPrefix =
PostprocessRenameWaterSweep = True

# Debug
DebugEveryN = 5
SlowMinimizationSeconds = 5.0
